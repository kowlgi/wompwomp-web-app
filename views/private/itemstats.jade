extends layout

block content
    div.container-fluid
      div.section
          if user.role == "admin"
              div.row
                  div.col.l4.offset-l4
                      h4.center Item Counts
                      div(class="table-responsive")
                        table(class="table highlight striped")
                          thead
                              tr.trhideclass
                                  th Category
                                  th Num Items
                          tbody
                              tr.trhideclass
                                  td
                                      |Hidden
                                  td
                                       =hiddenCount
                              tr.trhideclass
                                  td
                                      a(href="/review")
                                          |In Review
                                  td
                                      =reviewCount
                              tr.trhideclass
                                  td
                                      a(href="/buffer")
                                          |Buffered
                                  td
                                      =bufferedCount
                              tr.trhideclass
                                  td
                                      |Live
                                  td
                                      =liveCount
                      |Total:
                      =" "
                      =totalCount
          div.row
              div.col.l4.offset-l4
                  h4.center Popular Posts
                  ul.tabs(id="dashboardtabs")
                      li.tab.col.s3
                          a(href="#last_24_hrs") Last 24 Hours
                      li.tab.col.s3
                          a.active(href="#last_week") Last Week
                      li.tab.col.s3
                          a(href="#all_time") All Time
                  div.col.s12(id="last_24_hrs")
                      div(class="table-responsive")
                        table(class="table highlight striped")
                          thead
                              tr.trhideclass
                                  th No.
                                  th Post
                          tbody
                              - var i = 0
                              each item in last24HrsPopular
                                - i++
                                tr.trhideclass
                                    td
                                        = i
                                    td
                                        div(class="card hoverable")
                                          a(href="/v/"+ item.id, class="card-image")
                                              if(item.videouri && item.videouri.length > 0)
                                                  video(class='responsive-video' controls poster=item.imageuri)
                                                      source(src=item.videouri)
                                              else
                                                  img(src=item.imageuri)
                                          div(class="card-content", id=item.id)
                                              p
                                                  = item.text
                                              span.right
                                                  =item.numshares
                                              =" "
                                              i.right.material-icons.grey-text share
                                              div.right
                                                  |&nbsp;&nbsp;
                                              span.right
                                                  =item.numfavorites
                                              =" "
                                              i.right.material-icons.red-text favorite
                                              p.em.small.grey-text
                                                  =moment_local(item.created_on).fromNow()
                                                  =" "
                                                  |by 
                                                  =" "
                                                  |@
                                                  =item.sourceuri
                  div.col.s12(id="last_week")
                      div(class="table-responsive")
                        table(class="table highlight striped")
                          thead
                              tr.trhideclass
                                  th No.
                                  th Post
                          tbody
                              - var i = 0
                              each item in lastWeekPopular
                                - i++
                                tr.trhideclass
                                    td
                                        = i
                                    td
                                        div(class="card hoverable")
                                          a(href="/v/"+ item.id, class="card-image")
                                              if(item.videouri && item.videouri.length > 0)
                                                  video(class='responsive-video' controls poster=item.imageuri)
                                                      source(src=item.videouri)
                                              else
                                                  img(src=item.imageuri)
                                          div(class="card-content", id=item.id)
                                              p
                                                  = item.text
                                              span.right
                                                  =item.numshares
                                              =" "
                                              i.right.material-icons.grey-text share
                                              div.right
                                                  |&nbsp;&nbsp;
                                              span.right
                                                  =item.numfavorites
                                              =" "
                                              i.right.material-icons.red-text favorite
                                              p.em.small.grey-text
                                                  =moment_local(item.created_on).fromNow()
                                                  =" "
                                                  |by 
                                                  =" "
                                                  |@
                                                  =item.sourceuri
                  div.col.s12(id="all_time")
                      div(class="table-responsive")
                        table(class="table highlight striped")
                          thead
                              tr.trhideclass
                                  th No.
                                  th Post
                          tbody
                              - var i = 0
                              each item in allTimePopular
                                - i++
                                tr.trhideclass
                                    td
                                        = i
                                    td
                                        div(class="card hoverable")
                                          a(href="/v/"+ item.id, class="card-image")
                                              if(item.videouri && item.videouri.length > 0)
                                                  video(class='responsive-video' controls poster=item.imageuri)
                                                      source(src=item.videouri)
                                              else
                                                  img(src=item.imageuri)
                                          div(class="card-content", id=item.id)
                                              p
                                                  = item.text
                                              span.right
                                                  =item.numshares
                                              =" "
                                              i.right.material-icons.grey-text share
                                              div.right
                                                  |&nbsp;&nbsp;
                                              span.right
                                                  =item.numfavorites
                                              =" "
                                              i.right.material-icons.red-text favorite
                                              p.em.small.grey-text
                                                  =moment_local(item.created_on).fromNow()
                                                  =" "
                                                  |by 
                                                  =" "
                                                  |@
                                                  =item.sourceuri
